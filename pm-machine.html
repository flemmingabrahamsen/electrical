<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 PM Machine | Power-Electronic Control Handbook</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::bs4_book,
set in the _output.yml file." />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 PM Machine | Power-Electronic Control Handbook" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::bs4_book,
set in the _output.yml file." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 PM Machine | Power-Electronic Control Handbook" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::bs4_book,
set in the _output.yml file." />
  

<meta name="author" content="Flemming Abrahamsen" />


<meta name="date" content="2023-03-25" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="induction-machine.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="transformations.html"><a href="transformations.html"><i class="fa fa-check"></i><b>2</b> Transformations</a><ul>
<li class="chapter" data-level="2.1" data-path="transformations.html"><a href="transformations.html#vector-definition"><i class="fa fa-check"></i><b>2.1</b> Vector definition</a></li>
<li class="chapter" data-level="2.2" data-path="transformations.html"><a href="transformations.html#vector-amplitude"><i class="fa fa-check"></i><b>2.2</b> Vector Amplitude</a><ul>
<li class="chapter" data-level="2.2.1" data-path="transformations.html"><a href="transformations.html#vector-amplitude-from-alpha-beta"><i class="fa fa-check"></i><b>2.2.1</b> Vector amplitude from alpha-beta</a></li>
<li class="chapter" data-level="2.2.2" data-path="transformations.html"><a href="transformations.html#vector-amplitude-from-abc"><i class="fa fa-check"></i><b>2.2.2</b> Vector amplitude from abc</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="transformations.html"><a href="transformations.html#abc---alpha-beta"><i class="fa fa-check"></i><b>2.3</b> abc &lt;-&gt; alpha-beta</a><ul>
<li class="chapter" data-level="2.3.1" data-path="transformations.html"><a href="transformations.html#abc-with-zero-to-alpha-beta"><i class="fa fa-check"></i><b>2.3.1</b> abc with zero to alpha-beta</a></li>
<li class="chapter" data-level="2.3.2" data-path="transformations.html"><a href="transformations.html#abc-without-zero-to-ab"><i class="fa fa-check"></i><b>2.3.2</b> abc without zero to AB</a></li>
<li class="chapter" data-level="2.3.3" data-path="transformations.html"><a href="transformations.html#ab-to-abc"><i class="fa fa-check"></i><b>2.3.3</b> AB to abc</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="transformations.html"><a href="transformations.html#abc---ab0"><i class="fa fa-check"></i><b>2.4</b> abc &lt;-&gt; AB0</a><ul>
<li class="chapter" data-level="2.4.1" data-path="transformations.html"><a href="transformations.html#abc---ab0-1"><i class="fa fa-check"></i><b>2.4.1</b> abc -&gt; AB0</a></li>
<li class="chapter" data-level="2.4.2" data-path="transformations.html"><a href="transformations.html#ab0---abc"><i class="fa fa-check"></i><b>2.4.2</b> AB0 -&gt; abc</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="transformations.html"><a href="transformations.html#line-line---ab"><i class="fa fa-check"></i><b>2.5</b> Line-Line &lt;-&gt; AB</a><ul>
<li class="chapter" data-level="2.5.1" data-path="transformations.html"><a href="transformations.html#line-line---ab-1"><i class="fa fa-check"></i><b>2.5.1</b> Line-Line -&gt; AB</a></li>
<li class="chapter" data-level="2.5.2" data-path="transformations.html"><a href="transformations.html#ab---line-line"><i class="fa fa-check"></i><b>2.5.2</b> AB -&gt; Line-Line</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="transformations.html"><a href="transformations.html#rotation"><i class="fa fa-check"></i><b>2.6</b> Rotation</a><ul>
<li class="chapter" data-level="2.6.1" data-path="transformations.html"><a href="transformations.html#dq---alpha-beta"><i class="fa fa-check"></i><b>2.6.1</b> dq -&gt; alpha-beta</a></li>
<li class="chapter" data-level="2.6.2" data-path="transformations.html"><a href="transformations.html#alpha-beta---dq"><i class="fa fa-check"></i><b>2.6.2</b> alpha-beta -&gt; dq</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="modulation.html"><a href="modulation.html"><i class="fa fa-check"></i><b>3</b> Modulation</a><ul>
<li class="chapter" data-level="3.1" data-path="modulation.html"><a href="modulation.html#two-level-space-vectors"><i class="fa fa-check"></i><b>3.1</b> Two-Level Space Vectors</a></li>
<li class="chapter" data-level="3.2" data-path="modulation.html"><a href="modulation.html#calculation-of-duty-cycles."><i class="fa fa-check"></i><b>3.2</b> Calculation of duty-cycles.</a></li>
<li class="chapter" data-level="3.3" data-path="modulation.html"><a href="modulation.html#space-vector-modulation-svm."><i class="fa fa-check"></i><b>3.3</b> Space Vector Modulation (SVM).</a></li>
<li class="chapter" data-level="3.4" data-path="modulation.html"><a href="modulation.html#duty-cycle-function-expression."><i class="fa fa-check"></i><b>3.4</b> Duty-cycle function expression.</a></li>
<li class="chapter" data-level="3.5" data-path="modulation.html"><a href="modulation.html#calculation-of-duty-cycle-from-phase-voltage-references."><i class="fa fa-check"></i><b>3.5</b> Calculation of duty-cycle from phase-voltage references.</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="filters.html"><a href="filters.html"><i class="fa fa-check"></i><b>4</b> Filters</a><ul>
<li class="chapter" data-level="4.1" data-path="filters.html"><a href="filters.html#nomenclature"><i class="fa fa-check"></i><b>4.1</b> Nomenclature</a></li>
<li class="chapter" data-level="4.2" data-path="filters.html"><a href="filters.html#analog-filters"><i class="fa fa-check"></i><b>4.2</b> Analog Filters</a><ul>
<li class="chapter" data-level="4.2.1" data-path="filters.html"><a href="filters.html#low-pass-filter-1st-order"><i class="fa fa-check"></i><b>4.2.1</b> Low-pass filter 1st order</a></li>
<li class="chapter" data-level="4.2.2" data-path="filters.html"><a href="filters.html#high-pass-filter-1st-order"><i class="fa fa-check"></i><b>4.2.2</b> High-pass filter 1st order</a></li>
<li class="chapter" data-level="4.2.3" data-path="filters.html"><a href="filters.html#low-pass-filter-2nd-order"><i class="fa fa-check"></i><b>4.2.3</b> Low-pass filter 2nd order</a></li>
<li class="chapter" data-level="4.2.4" data-path="filters.html"><a href="filters.html#high-pass-filter-2nd-order"><i class="fa fa-check"></i><b>4.2.4</b> High-pass filter 2nd order</a></li>
<li class="chapter" data-level="4.2.5" data-path="filters.html"><a href="filters.html#band-pass-filter"><i class="fa fa-check"></i><b>4.2.5</b> Band-pass filter</a></li>
<li class="chapter" data-level="4.2.6" data-path="filters.html"><a href="filters.html#band-stop-filter"><i class="fa fa-check"></i><b>4.2.6</b> Band-stop filter</a></li>
<li class="chapter" data-level="4.2.7" data-path="filters.html"><a href="filters.html#integrator-with-finite-dc-gain"><i class="fa fa-check"></i><b>4.2.7</b> Integrator with Finite dc-gain</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="induction-machine.html"><a href="induction-machine.html"><i class="fa fa-check"></i><b>5</b> Induction Machine</a><ul>
<li class="chapter" data-level="5.1" data-path="induction-machine.html"><a href="induction-machine.html#nomenclature-1"><i class="fa fa-check"></i><b>5.1</b> Nomenclature</a></li>
<li class="chapter" data-level="5.2" data-path="induction-machine.html"><a href="induction-machine.html#introduction"><i class="fa fa-check"></i><b>5.2</b> Introduction</a></li>
<li class="chapter" data-level="5.3" data-path="induction-machine.html"><a href="induction-machine.html#general-machine-model"><i class="fa fa-check"></i><b>5.3</b> General Machine Model</a><ul>
<li class="chapter" data-level="5.3.1" data-path="induction-machine.html"><a href="induction-machine.html#stator-equation"><i class="fa fa-check"></i><b>5.3.1</b> Stator Equation</a></li>
<li class="chapter" data-level="5.3.2" data-path="induction-machine.html"><a href="induction-machine.html#rotor-equation"><i class="fa fa-check"></i><b>5.3.2</b> Rotor Equation</a></li>
<li class="chapter" data-level="5.3.3" data-path="induction-machine.html"><a href="induction-machine.html#torque-equations"><i class="fa fa-check"></i><b>5.3.3</b> Torque Equations</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="induction-machine.html"><a href="induction-machine.html#rotor-flux-oriented-model"><i class="fa fa-check"></i><b>5.4</b> Rotor-flux Oriented Model</a><ul>
<li class="chapter" data-level="5.4.1" data-path="induction-machine.html"><a href="induction-machine.html#rotor-voltage-equation-rotor-flux-oriented"><i class="fa fa-check"></i><b>5.4.1</b> Rotor voltage equation (rotor-flux oriented)</a></li>
<li class="chapter" data-level="5.4.2" data-path="induction-machine.html"><a href="induction-machine.html#stator-voltage-equation-rotor-flux-oriented"><i class="fa fa-check"></i><b>5.4.2</b> Stator voltage equation (rotor-flux oriented)</a></li>
<li class="chapter" data-level="5.4.3" data-path="induction-machine.html"><a href="induction-machine.html#torque-equation-rotor-flux-oriented"><i class="fa fa-check"></i><b>5.4.3</b> Torque equation (rotor-flux oriented)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="pm-machine.html"><a href="pm-machine.html"><i class="fa fa-check"></i><b>6</b> PM Machine</a><ul>
<li class="chapter" data-level="6.1" data-path="pm-machine.html"><a href="pm-machine.html#nomenclature-2"><i class="fa fa-check"></i><b>6.1</b> Nomenclature</a></li>
<li class="chapter" data-level="6.2" data-path="pm-machine.html"><a href="pm-machine.html#machine-equations"><i class="fa fa-check"></i><b>6.2</b> Machine Equations</a></li>
<li class="chapter" data-level="6.3" data-path="pm-machine.html"><a href="pm-machine.html#maximum-torque-per-ampere-mtpa"><i class="fa fa-check"></i><b>6.3</b> Maximum Torque Per Ampere (MTPA)</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Power-Electronic Control Handbook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="pm-machine" class="section level1 hasAnchor">
<h1><span class="header-section-number">Chapter 6</span> PM Machine<a href="pm-machine.html#pm-machine" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="nomenclature-2" class="section level2 hasAnchor">
<h2><span class="header-section-number">6.1</span> Nomenclature<a href="pm-machine.html#nomenclature-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<!-- 
-->
<p><span class="math inline">\(R_s\)</span>: Stator resistance.<br />
<span class="math inline">\(\psi_{pm}\)</span>: Permament magnet flux linkage.<br />
<span class="math inline">\(\omega_m\)</span>: Angular frequency of shaft in electrical frame, i.e compensated for pole-pairs.<br />
<span class="math inline">\(L_d\)</span>: d-axis inductance.<br />
<span class="math inline">\(L_q\)</span>: q-axis inductance.<br />
<span class="math inline">\(\tau_{em}\)</span>: Electro-magnetic torque.<br />
<span class="math inline">\(N_{pp}\)</span>: Pole-pair number.</p>
</div>
<div id="machine-equations" class="section level2 hasAnchor">
<h2><span class="header-section-number">6.2</span> Machine Equations<a href="pm-machine.html#machine-equations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><span class="math display" id="eq:pmsmMdl1">\[
\begin{aligned}
v_d &amp; = R_s i_d + L_d\frac{di_d}{dt} - j \omega_m L_q i_q  \\
v_q &amp; = R_s i_q + L_q\frac{di_q}{dt} + j \omega_m (L_d i_d + \psi_{pm})  \\
\tau_{em} &amp; =  (\psi_{pm} + (L_d-L_q) i_d)i_q  \\
\end{aligned}
\tag{6.1}
\]</span></p>
</div>
<div id="maximum-torque-per-ampere-mtpa" class="section level2 hasAnchor">
<h2><span class="header-section-number">6.3</span> Maximum Torque Per Ampere (MTPA)<a href="pm-machine.html#maximum-torque-per-ampere-mtpa" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>MTPA is a commonly used control strategy by which the current is controlled to produce the maximum torque for at given current amplitude. It is shown here how the control equations are derived. This is done from the torque equation:</p>
<p><span class="math display" id="eq:mtpa1">\[
\begin{aligned}
T_{em} &amp; =  (\psi_{pm} + (L_d-L_q) i_d)i_q  \\
\end{aligned}
\tag{6.2}
\]</span>
The current amplitude is:
<span class="math display" id="eq:mtpa2">\[
|\underline{i}| = \sqrt{i^2_d + i^2_q} \Rightarrow  i_q =  (|\underline{i}|^2 - i^2_d)^{1/2} 
\tag{6.3}
\]</span>
Inserting this in the torque equations, we get:</p>
<p><span class="math display" id="eq:mtpa3">\[
\begin{aligned}
T_{em} &amp; =  (\psi_{pm} + (L_d-L_q) i_d)(|\underline{i}|^2 - i^2_d)^{1/2}  \\
 &amp; =  \psi_{pm}(|\underline{i}|^2 - i^2_d)^{1/2} + (L_d-L_q) i_d(|\underline{i}|^2 - i^2_d)^{1/2}  \\
\end{aligned}
\tag{6.4}
\]</span>
This equation describes, for for at given current amplitude, how the torque varies as a function of <span class="math inline">\(i_d\)</span>. By differentiating, we can find the <span class="math inline">\(i_d\)</span>, which gives the maximum torque for the given current amplitude <span class="math inline">\(|\underline{i}|\)</span>.</p>
<p><span class="math display" id="eq:mtpa3">\[
\begin{aligned}
\frac{\partial T_{em}}{\partial i_d} &amp; =  \psi_{pm}\frac{1}{2} (|\underline{i}|^2 - i^2_d)^{-1/2} (-2i_d) + 
(L_d-L_q) \left(  (|\underline{i}|^2 - i^2_d)^{1/2}   + i_d \frac{1}{2} (|\underline{i}|^2 - i^2_d)^{-1/2} (-2i_d)  \right)  \\
 &amp; =  -\psi_{pm} i_d (|\underline{i}|^2 - i^2_d)^{-1/2}  + 
(L_d-L_q) \left(  (|\underline{i}|^2 - i^2_d)^{1/2}   - i_d^2  (|\underline{i}|^2 - i^2_d)^{-1/2}   \right)  \\
\end{aligned}
\tag{6.4}
\]</span>
We can now set the differential equal to zero:</p>
<p><span class="math display" id="eq:mtpa4">\[
\begin{aligned}
\frac{\partial T_{em}}{\partial i_d} &amp; =  0  \\
-\psi_{pm} i_d (|\underline{i}|^2 - i^2_d)^{-1/2}  + (L_d-L_q) \left(  (|\underline{i}|^2 - i^2_d)^{1/2}   - i_d^2  (|\underline{i}|^2 - i^2_d)^{-1/2}   \right) &amp; = 0 \\
-\psi_{pm} i_d   + (L_d-L_q) \left(  |\underline{i}|^2 - i^2_d   - i_d ^2    \right) &amp; = 0 \\
-\psi_{pm} i_d   + (L_d-L_q) (  |\underline{i}|^2 - 2i^2_d     ) &amp; = 0 \\
 2 (L_d-L_q)i^2_d  +\psi_{pm} i_d   - (L_d-L_q)  |\underline{i}|^2  &amp; = 0 \\
\end{aligned}
\tag{6.5}
\]</span>
The MTPA d-current is now given as:</p>
<p><span class="math display" id="eq:mtpa5">\[
\begin{aligned}
i_d &amp;= \frac{-\psi_{pm} - \sqrt{\psi_{pm}^2 - 8 (L_d-L_q)^2 |\underline{i}|^2}}{4 (L_d-L_q)} \\
&amp;= \frac{-\psi_{pm} }{4 (L_d-L_q)} -   \sqrt{\frac{\psi_{pm}^2}{16 (L_d-L_q)^2} - \frac{1}{2} |\underline{i}|^2}\\
\end{aligned}
\tag{6.6}
\]</span>
And and q-current is calculated as:</p>
<p><span class="math display" id="eq:mtpa6">\[
i_q = \sqrt{|\underline{i}|^2 - i^2_d }
\tag{6.7}
\]</span></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="induction-machine.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
